OCPP EV Charging Station Demo - Architecture
=============================================

System Overview:
----------------

                    Internet
                        |
                        | WebSocket (HTTP/80)
                        |
            +-----------v-----------+
            |   cs.ocpp-css.com     |
            |   (Central System)    |
            |  - OCPP 1.6-J Server  |
            |  - Web Interface      |
            +-----------+-----------+
                        |
                        | OCPP Messages
                        | (JSON over WebSocket)
                        |
            +-----------v-----------+
            |   Zephyr OCPP Stack   |
            |  - WebSocket Client   |
            |  - OCPP Protocol      |
            |  - Message Handler    |
            +-----------+-----------+
                        |
            +-----------v-----------+
            |   OCPP Demo App       |
            |  +-----------------+  |
            |  | Connector 1     |  |
            |  | - Fast Charge   |  |
            |  | - 22 kW         |  |
            |  | - DemoTag01     |  |
            |  +-----------------+  |
            |  | Connector 2     |  |
            |  | - Normal Charge |  |
            |  | - 7.4 kW        |  |
            |  | - DemoTag02     |  |
            |  +-----------------+  |
            +-----------------------+


Charging Session Flow:
-----------------------

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vehicle   â”‚              â”‚  Charge     â”‚              â”‚  Central    â”‚
â”‚  (Simulated)â”‚              â”‚  Point      â”‚              â”‚  System     â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
      â”‚                             â”‚                            â”‚
      â”‚  1. Plugin                  â”‚                            â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚
      â”‚                             â”‚  2. BootNotification       â”‚
      â”‚                             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                             â”‚                            â”‚
      â”‚                             â”‚  3. Accepted               â”‚
      â”‚                             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                             â”‚                            â”‚
      â”‚  4. IdTag Scan              â”‚                            â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                            â”‚
      â”‚                             â”‚  5. Authorize Request      â”‚
      â”‚                             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                             â”‚                            â”‚
      â”‚                             â”‚  6. Accepted               â”‚
      â”‚                             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                             â”‚                            â”‚
      â”‚  7. Start Charging          â”‚                            â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  8. StartTransaction       â”‚
      â”‚                             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                             â”‚                            â”‚
      â”‚                             â”‚  9. TransactionId          â”‚
      â”‚                             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚                             â”‚                            â”‚
      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚  â”‚ Charging Loop (every 1s) â”‚                            â”‚
      â”‚  â”‚                          â”‚  10. MeterValues           â”‚
      â”‚  â”‚                          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚  â”‚  - Power ramp-up         â”‚      - Energy (Wh)         â”‚
      â”‚  â”‚  - Energy accumulation   â”‚      - Power (W)           â”‚
      â”‚  â”‚  - Temperature rise      â”‚      - Current (A)         â”‚
      â”‚  â”‚  - SoC increase          â”‚      - Voltage (V)         â”‚
      â”‚  â”‚                          â”‚      - Temperature (Â°C)    â”‚
      â”‚  â”‚                          â”‚      - SoC (%)             â”‚
      â”‚  â”‚                          â”‚                            â”‚
      â”‚  â”‚  Status Log (every 5s):  â”‚                            â”‚
      â”‚  â”‚  "ğŸ“Š 22.0kW | 95.7A |    â”‚                            â”‚
      â”‚  â”‚   514Wh | 28% | 41.4Â°C"  â”‚                            â”‚
      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
      â”‚                             â”‚                            â”‚
      â”‚  11. Stop Charging          â”‚                            â”‚
      â”‚     (95% SoC or timeout)    â”‚                            â”‚
      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚  12. StopTransaction       â”‚
      â”‚                             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
      â”‚                             â”‚      - Final meter reading â”‚
      â”‚                             â”‚                            â”‚
      â”‚                             â”‚  13. Accepted              â”‚
      â”‚                             â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚  14. Session Complete       â”‚                            â”‚
      â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
      â”‚                             â”‚                            â”‚


Demo Scenario Timeline:
------------------------

T=0s    : Network initialization
          â†“
T=2s    : DHCP address acquired
          â†“
T=3s    : SNTP time synchronization
          â†“
T=5s    : OCPP stack initialized
          â†“
T=5s    : Vehicle 1 arrives at Connector 1
          - IdTag: DemoTag01
          - Mode: FAST (22 kW)
          â†“
T=8s    : Vehicle 2 arrives at Connector 2
          - IdTag: DemoTag02
          - Mode: NORMAL (7.4 kW)
          â†“
T=10s   : Both vehicles authorize
          â†“
T=11s   : Charging starts on both connectors
          â†“
T=11s-71s: Active charging with:
          - Power ramp-up (0 â†’ target kW)
          - Energy accumulation
          - Temperature rise (25Â°C â†’ 65Â°C max)
          - SoC progression (20% â†’ 95%)
          - Status updates every 5 seconds
          â†“
T=71s   : Connector 1 reaches 95% SoC, stops
          â†“
T=73s   : Connector 2 reaches 95% SoC, stops
          â†“
T=75s   : Demo scenario complete
          â†“
T>75s   : Station remains connected for remote operations


Meter Value Reporting:
-----------------------

Every 1-5 seconds during charging, the following values are reported:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Measurand               â”‚ Connector 1  â”‚ Connector 2  â”‚
â”‚                         â”‚ (Fast)       â”‚ (Normal)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Power (kW)              â”‚ 0 â†’ 22.0     â”‚ 0 â†’ 7.4      â”‚
â”‚ Current (A)             â”‚ 0 â†’ 95.7     â”‚ 0 â†’ 32.2     â”‚
â”‚ Voltage (V)             â”‚ ~230         â”‚ ~230         â”‚
â”‚ Energy (Wh)             â”‚ 0 â†’ 1320+    â”‚ 0 â†’ 444+     â”‚
â”‚ Temperature (Â°C)        â”‚ 25 â†’ 65      â”‚ 25 â†’ 45      â”‚
â”‚ State of Charge (%)     â”‚ 20 â†’ 95      â”‚ 20 â†’ 95      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


Remote Operations:
-------------------

The Central System can trigger:

1. Remote Start Transaction
   - Specify connector ID
   - Specify IdTag
   - Demo automatically handles authorization and charging

2. Remote Stop Transaction
   - Specify connector ID
   - Demo gracefully stops charging and reports final values

3. Unlock Connector
   - Simulate physical unlock of connector
   - Logged but no physical action in simulation


Key Features Demonstrated:
---------------------------

âœ“ Dual-connector operation
âœ“ Different charging speeds (Fast vs Normal)
âœ“ Realistic power delivery simulation
âœ“ Dynamic meter value reporting
âœ“ Temperature simulation
âœ“ State of Charge progression
âœ“ Automatic charge completion
âœ“ Remote operation support
âœ“ Comprehensive logging with visual indicators
âœ“ Session statistics and summaries
âœ“ OCPP 1.6 core profile compliance
