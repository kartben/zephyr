# Home Assistant Integration Configuration

# Enable Home Assistant integration
CONFIG_HOMEASSISTANT=y

# MQTT Broker Configuration
# Change these to match your setup
CONFIG_HOMEASSISTANT_MQTT_BROKER_HOSTNAME="192.168.1.157"
CONFIG_HOMEASSISTANT_MQTT_BROKER_PORT=1883
CONFIG_HOMEASSISTANT_MQTT_CLIENT_ID="zephyr_demo"
CONFIG_HOMEASSISTANT_DEVICE_NAME="zephyr_demo"

# Uncomment and set if your MQTT broker requires authentication
# CONFIG_HOMEASSISTANT_MQTT_USERNAME="mqtt_user"
# CONFIG_HOMEASSISTANT_MQTT_PASSWORD="mqtt_password"

# Enable auto-discovery
CONFIG_HOMEASSISTANT_AUTO_DISCOVERY=y

# Zbus is automatically selected by HOMEASSISTANT
CONFIG_ZBUS=y
CONFIG_ZBUS_CHANNEL_NAME=y

# Networking
CONFIG_NETWORKING=y
CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_CONNECTION_MANAGER=y

# DHCP
CONFIG_NET_DHCPV4=y

# DNS
CONFIG_DNS_RESOLVER=y
CONFIG_DNS_RESOLVER_ADDITIONAL_BUF_CTR=2
CONFIG_DNS_RESOLVER_ADDITIONAL_QUERIES=2

# Network management events
CONFIG_NET_MGMT=y
CONFIG_NET_MGMT_EVENT=y

# POSIX for inet_ntop
CONFIG_POSIX_API=y

# MQTT
CONFIG_MQTT_LIB=y
CONFIG_MQTT_CLEAN_SESSION=y

# Network buffers
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=32
CONFIG_NET_BUF_TX_COUNT=32
CONFIG_NET_CONTEXT_NET_PKT_POOL=y

# Logging
CONFIG_LOG=y
CONFIG_NET_LOG=y
CONFIG_HOMEASSISTANT_LOG_LEVEL_INF=y

# Increase stack sizes
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_NET_TX_STACK_SIZE=2048
CONFIG_NET_RX_STACK_SIZE=2048

# Random number generator for sensor simulation
CONFIG_TEST_RANDOM_GENERATOR=y


CONFIG_REQUIRES_FLOAT_PRINTF=y